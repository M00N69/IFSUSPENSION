/* assets/styles.css */

/* --- Variables CSS (pour une personnalisation facile) --- */
:root {
    --primary-color: #4A90E2; /* Bleu vibrant pour les accents */
    --secondary-color: #50E3C2; /* Turquoise pour accents secondaires ou succès */
    --background-color: #171C26; /* Fond principal très sombre, bleu nuit */
    --sidebar-background: #1F2430; /* Fond sidebar légèrement plus clair */
    --card-background: #242936; /* Fond pour les cartes, onglets, expanders */
    --text-color: #EAEAEA; /* Texte principal clair */
    --text-color-muted: #A0A0A0; /* Texte secondaire/moins important */
    --border-color: #333A49; /* Couleur des bordures subtiles */
    --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --border-radius: 8px;
    --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* --- Styles Globaux --- */
body {
    font-family: var(--font-family-sans-serif);
    color: var(--text-color);
    line-height: 1.6;
}

.stApp {
    background-color: var(--background-color);
}

h1, h2, h3, h4, h5, h6 {
    color: var(--primary-color);
    font-weight: 600;
}
h1 { font-size: 2.2rem; margin-bottom: 1.5rem; border-bottom: 2px solid var(--primary-color); padding-bottom: 0.5rem; }
h2 { font-size: 1.8rem; margin-top: 2rem; margin-bottom: 1rem; }
h3 { font-size: 1.5rem; margin-top: 1.5rem; margin-bottom: 0.8rem; color: var(--secondary-color); }


/* --- Sidebar --- */
.css-1d391kg { /* Sélecteur général pour la sidebar, peut changer avec les versions de Streamlit */
    background-color: var(--sidebar-background);
    border-right: 1px solid var(--border-color);
    padding: 1.5rem 1rem; /* Ajouter un peu de padding */
}
.css-1d391kg .stRadio > label,
.css-1d391kg .stFileUploader > label,
.css-1d391kg .stButton > button,
.css-1d391kg .stDownloadButton > button,
.css-1d391kg label,
.css-1d391kg .stMarkdown p,
.css-1d391kg .stSubheader {
    color: var(--text-color-muted);
    font-size: 0.9rem;
}
.css-1d391kg .stButton > button,
.css-1d391kg .stDownloadButton > button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    padding: 0.6rem 1.2rem;
    font-weight: 500;
    transition: background-color 0.2s ease-in-out, transform 0.1s ease;
    width: 100%; /* Boutons pleine largeur dans la sidebar */
    margin-top: 0.5rem;
}
.css-1d391kg .stButton > button:hover,
.css-1d391kg .stDownloadButton > button:hover {
    background-color: #3C7DD9; /* Bleu plus foncé au survol */
    transform: translateY(-1px);
}
.css-1d391kg .stImage > img {
    background-color: white;
    padding: 8px;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    margin-bottom: 1rem;
}
.css-1d391kg hr {
    border-top: 1px solid var(--border-color);
}


/* --- Zone Principale & Onglets --- */
.main .block-container { /* Conteneur principal du contenu */
    padding-top: 2rem;
    padding-left: 2rem;
    padding-right: 2rem;
}

.stTabs [data-baseweb="tab-list"] {
    background-color: transparent; /* Enlever le fond par défaut */
    border-bottom: 2px solid var(--border-color);
    padding: 0;
    margin-bottom: 1.5rem;
}
.stTabs [data-baseweb="tab"] {
    font-weight: 500;
    font-size: 1rem;
    color: var(--text-color-muted);
    border-radius: 0; /* Pas de coins arrondis ici */
    margin: 0 0.5rem 0 0; /* Espacement entre onglets */
    padding: 0.75rem 1.25rem;
    transition: color 0.2s ease-in-out, border-color 0.2s ease-in-out;
    border-bottom: 2px solid transparent; /* Bordure par défaut transparente */
}
.stTabs [data-baseweb="tab"]:hover {
    color: var(--primary-color);
    background-color: rgba(74, 144, 226, 0.1); /* Léger fond au survol */
}
.stTabs [aria-selected="true"] {
    background-color: transparent !important;
    color: var(--primary-color) !important;
    border-bottom: 2px solid var(--primary-color) !important;
    box-shadow: none !important;
}


/* --- Expanders --- */
.stExpander {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    margin-bottom: 1.5rem;
    background-color: var(--card-background);
    box-shadow: var(--box-shadow);
}
.stExpander header {
    background-color: transparent;
    color: var(--text-color);
    font-weight: 500;
    font-size: 1.05rem;
    padding: 0.8rem 1.2rem;
    border-bottom: 1px solid var(--border-color);
    border-radius: calc(var(--border-radius) - 1px) calc(var(--border-radius) - 1px) 0 0;
    transition: background-color 0.2s ease;
}
.stExpander header:hover {
    background-color: rgba(74, 144, 226, 0.08);
}
.stExpander div[data-testid="stExpanderDetails"] {
    background-color: transparent; /* Le fond est déjà sur .stExpander */
    padding: 1.2rem;
    border-radius: 0 0 calc(var(--border-radius) - 1px) calc(var(--border-radius) - 1px);
}
.stExpander caption { /* Texte des légendes dans les expanders */
    color: var(--text-color-muted);
    font-size: 0.85rem;
}


/* --- Métriques --- */
div[data-testid="stMetric"] {
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.2rem;
    box-shadow: var(--box-shadow);
    text-align: center; /* Centrer le contenu de la métrique */
}
div[data-testid="stMetric"] > label {
    color: var(--text-color-muted);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}
div[data-testid="stMetric"] > div:nth-child(2) > div {
    color: var(--secondary-color); /* Utiliser la couleur secondaire pour la valeur */
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1;
}


/* --- DataFrames --- */
.stDataFrame {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
}
.dataframe > thead > tr > th {
    background-color: #2A303C; /* En-têtes de table plus foncés */
    color: var(--text-color);
    font-weight: 600;
    border-bottom: 2px solid var(--border-color);
    padding: 0.75rem;
}
.dataframe > tbody > tr > td {
    border-color: var(--border-color);
    padding: 0.6rem 0.75rem;
    color: var(--text-color-muted);
}
.dataframe > tbody > tr:nth-child(even) {
    background-color: rgba(36, 41, 54, 0.5); /* Lignes paires avec fond subtil */
}
.dataframe > tbody > tr:hover {
    background-color: rgba(74, 144, 226, 0.1); /* Survol de ligne */
}

/* --- Graphiques Plotly --- */
.plotly-graph-div {
    border-radius: var(--border-radius);
    background-color: var(--card-background) !important; /* Important pour forcer le fond */
    padding: 10px; /* Ajouter un peu d'espace autour du graphique */
    box-shadow: var(--box-shadow);
}

/* --- Messages Streamlit (info, success, warning, error) --- */
div[data-testid="stAlert"] {
    border-radius: var(--border-radius);
    border-left-width: 6px !important; /* Rendre la bordure gauche plus proéminente */
    padding: 1rem 1.25rem;
    font-size: 0.95rem;
}
div[data-testid="stAlert"] p { margin-bottom: 0; } /* Éviter les marges doubles */
/* Couleurs spécifiques pour les alertes */
/* Vous devrez peut-être ajuster les sélecteurs si Streamlit les change */
div[data-testid="stAlert"][kind="info"] { border-left-color: #3172B8 !important; background-color: rgba(49,114,184,0.1); color: #A3C9F0;}
div[data-testid="stAlert"][kind="success"] { border-left-color: #238636 !important; background-color: rgba(35,134,54,0.1); color: #83D996;}
div[data-testid="stAlert"][kind="warning"] { border-left-color: #D29922 !important; background-color: rgba(210,153,34,0.1); color: #F0C674;}
div[data-testid="stAlert"][kind="error"] { border-left-color: #DA3633 !important; background-color: rgba(218,54,51,0.1); color: #FFA3A3;}


/* --- Markdown --- */
.stMarkdown p, .stMarkdown li {
    color: var(--text-color-muted);
    font-size: 0.95rem;
}
.stMarkdown strong {
    color: var(--text-color);
}
.stMarkdown a {
    color: var(--primary-color);
    text-decoration: none;
}
.stMarkdown a:hover {
    text-decoration: underline;
    color: var(--secondary-color);
}
.stMarkdown hr {
    border-top: 1px solid var(--border-color);
    margin: 1.5rem 0;
}

/* Utilitaires */
.centered-text { text-align: center; }
.small-text { font-size: 0.85rem; color: var(--text-color-muted); }
